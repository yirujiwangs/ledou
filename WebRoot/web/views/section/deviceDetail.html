<div ng-include="'views/nav.html'"></div>
<div class='main'>
	<div class="panel panel-default">
	    <div class="panel-heading">
	      <h3 class="panel-title">数据指标
	     <!--  <span>{{deviceDetailCtrl.deviceDetail.storeName}}({{deviceDetailCtrl.deviceDetail.account}})</span> -->
	      </h3>
	    </div>
	    <div class="panel-body">
	    	<div class='panel-items col-xs-4'>
	    		<p>已激活设备</p>
	    		<p class="panel-items-num">
	    			{{  deviceDetailCtrl.generalNum.EnableDevices }}
	    		</p>
	    	</div>
	    	<div class='panel-items col-xs-4'>
	    		<p>累计销售设备</p>
	    		<p class="panel-items-num">
	    			{{  deviceDetailCtrl.generalNum.totalDevices }}
	    		</p>
	    	</div>
	    	<div class='panel-items col-xs-4'>
	    		<p>昨日活跃设备</p>
	    		<p class="panel-items-num">
	    			{{  deviceDetailCtrl.generalNum.yestActiveDevices }}
	    		</p>
	    	</div>
	    </div>
	</div>

	<table class="table table-hover table-reponsive">
		<div class='table-func clearfix'>
			<!-- <form class="form-inline clearfix">
				<div class="form-group col-xs-7 m-t-lg">
					<button class="t-btn t-btn-green pull-left" ng-click="deviceDetailCtrl.addDevice()">绑定设备</button>
					<div class="col-xs-8 pull-right">
						<label class="control-label pull-left">时间:</label>
						<div ng-include="'views/dateTime.html'"></div>
					</div>
				</div>
				<div class="form-group col-xs-2 m-t-lg">
					<select 
						class="col-xs-9 pull-right" 
						ng-model="form.type" 
						ng-options="option.name as option.name for option in deviceDetailCtrl.status" 
						ng-change="deviceDetailCtrl.search()" 
						style="width:100%;"
					></select>
				</div>
				<div class="form-group col-xs-3 m-t-lg pull-right">
					<input type="text" ng-model="form.searchkey" placeholder="请输入设备的序列号" style="min-width: 170px;">	
					<button class="t-btn t-btn-green pull-right" ng-click="deviceDetailCtrl.search()">查找</button>
				</div>
			</form> -->
			<select 
				class="pull-left m-r-xs" 
				style="height: 32px;"
				ng-model="stateSelect"
				ng-change="deviceDetailCtrl.stateChange()"
			>
				<option value="">全部状态</option>
				<option value="1">正常</option>
				<option value="-1">禁止</option>
			</select>
		</div>
		<thead>
			<th ng-repeat="title in deviceDetailCtrl.titles">
				{{title.name}}
			</th>
		</thead>
		<tbody>
			<tr ng-repeat="user in deviceDetailCtrl.users">
				<td>LD{{user.deviceNo}}</td>
				<td>{{user.WxId}}</td>
				<td ng-if="user.deviceStatus === 'N'">正常</td>
				<td ng-if="user.deviceStatus === 'P'">禁止</td>
				<td>
					{{1000*user.datetime | date: 'yyyy-MM-dd HH:mm:ss'}}
				</td>
				<td>{{user.remark}}</td>
				<!-- <td>
					<button class="t-btn t-btn-green" ng-click="deviceDetailCtrl.update($index)">修改
					</button>
					<button class="t-btn t-btn-blue" ng-click="deviceDetailCtrl.del($index)">删除
					</button>
					<button class="t-btn t-btn-green" ng-click="deviceDetailCtrl.removeBind($index)">
						解除绑定
					</button>
				</td> -->
			</tr>
		</tbody>
	</table>
	<div class="page-btn">
		<button ng-click="deviceDetailCtrl.pre()">上一页</button>
		<span>第{{  deviceDetailCtrl.currentPage }}页,共{{  deviceDetailCtrl.totalPage }}页</span>
		<button ng-click="deviceDetailCtrl.next()">下一页</button>
	</div>
</div>